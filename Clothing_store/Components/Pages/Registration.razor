@page "/Registration"
@using DataBase
@using Models.DAL
@rendermode InteractiveServer
@inject ApplicationDbContext Ef

<div class="register-container">
    <h2>–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç</h2>

    <form asp-action="Register" method="post">
        <div class="form-group">
            <input asp-for="Username" placeholder="–õ–æ–≥–∏–Ω" />
            <span asp-validation-for="Username" class="error"></span>
        </div>

        <div class="form-group">
            <input asp-for="PhoneNumber" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" />
            <span asp-validation-for="PhoneNumber" class="error"></span>
        </div>

        <div class="form-group">
            <input asp-for="Email" placeholder="–ü–æ—á—Ç–∞" />
            <span asp-validation-for="Email" class="error"></span>
        </div>

        <div class="form-group password-group">
            <input asp-for="Password" type="password" placeholder="–ü–∞—Ä–æ–ª—å" id="registerPassword" />
            <span class="toggle-password" onclick="togglePassword('registerPassword')">üëÅ</span>
            <span asp-validation-for="Password" class="error"></span>
        </div>

        <button type="submit" class="submit-btn">–°–æ–∑–¥–∞—Ç—å</button>

        <p class="policy">
            –°–æ–∑–¥–∞–≤–∞—è –∞–∫–∫–∞—É–Ω—Ç, –í—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å
            <a href="#">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ
            <a href="#">–£—Å–ª–æ–≤–∏—è –ø—Ä–æ–¥–∞–∂–∏</a>.
        </p>
    </form>
</div>

@code {
    private User _user = new();
    
    private string _email { get; set; }
    private string _phoneNumber { get; set; }
    private string _login { get; set; }
    
    private void AddUser()
    {
        Ef.Users.Add(_user);
        Ef.SaveChanges();
        _user = new User();
    }
}